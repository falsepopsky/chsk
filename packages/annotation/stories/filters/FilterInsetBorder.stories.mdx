import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs'
import { Chart, Surface, Rectangle } from '@chsk/core'
import { FilterInsetBorder } from '../../src/filters'

<Meta title="Addons/Annotation/Filters/FilterInsetBorder" />

# FilterInsetBorder

export const Template = args => <FilterInsetBorder {...args} />

`FilterInsetBorder` creates an svg filter that applies a solid color mask to the boundary of a target.

<ArgsTable of={FilterInsetBorder} />

## Color and opacity

Prop `floodColor` determines the color of the mask.
Prop `floodOpacity` determines the intensity of the filter.

<Canvas>
    <Story name="lighter">
        <Chart size={[280, 180]} padding={[20, 20, 20, 20]} style={{ display: 'inline-block' }}>
            <Surface />
            <FilterInsetBorder id={'lighter-border'} floodColor={'#ffffff'} r={8} />
            <Rectangle
                x={40}
                y={40}
                width={60}
                height={60}
                style={{
                    stroke: '#000000',
                    strokeWidth: 3,
                    fill: '#dd9999',
                }}
            />
            <Rectangle
                x={140}
                y={40}
                width={60}
                height={60}
                style={{
                    stroke: '#000000',
                    strokeWidth: 3,
                    fill: '#dd9999',
                    filter: 'url(#lighter-border)',
                }}
            />
        </Chart>
    </Story>
    <Story name="darker">
        <Chart size={[280, 180]} padding={[20, 20, 20, 20]} style={{ display: 'inline-block' }}>
            <Surface />
            <FilterInsetBorder id={'darker-border'} floodColor={'#222222'} r={8} />
            <Rectangle
                x={40}
                y={40}
                width={60}
                height={60}
                style={{
                    stroke: '#000000',
                    strokeWidth: 3,
                    fill: '#dd9999',
                }}
            />
            <Rectangle
                x={140}
                y={40}
                width={60}
                height={60}
                style={{
                    stroke: '#000000',
                    strokeWidth: 3,
                    fill: '#dd9999',
                    filter: 'url(#darker-border)',
                }}
            />
        </Chart>
    </Story>
</Canvas>

## Inset

By default, `FilterInsetBorder` affects the entire shape, including any existing boundary.
To exclude the boundary from the filter, set prop `erodeR` with the width of the boundary stroke.

<Canvas>
    <Story name="inset">
        <Chart size={[280, 180]} padding={[20, 20, 20, 20]} style={{ display: 'inline-block' }}>
            <Surface />
            <FilterInsetBorder
                id={'inset-lighter-border'}
                erodeR={3}
                r={8}
                floodColor={'#ffffff'}
            />
            <Rectangle
                x={40}
                y={40}
                width={60}
                height={60}
                style={{
                    stroke: '#000000',
                    strokeWidth: 3,
                    fill: '#dd9999',
                }}
            />
            <Rectangle
                x={140}
                y={40}
                width={60}
                height={60}
                style={{
                    stroke: '#000000',
                    strokeWidth: 3,
                    fill: '#dd9999',
                    filter: 'url(#inset-lighter-border)',
                }}
            />
        </Chart>
    </Story>
</Canvas>
