import { ArgsTable, Canvas, Meta, Source, Story } from '@storybook/addon-docs'
import { Quantile, Quantiles } from '../src'
import { ChartQuantileDecorator, onQuantilesClick } from './decorators'

# Quantiles

<Meta title="Addons/Band/Quantiles" />
export const Template = args => <Quantiles {...args} />

`Quantiles` draws boxes and whiskers to summarize distributions of numeric values.

`Quantiles` is intended to be used within a `Quantile` view. Note that while the `Quantiles` component is the one that draws boxes and whiskers, much of the chart layout is determined by the parent view `Quantile`.

<ArgsTable of={Quantiles} />

## Data subsets

By default, `Quantiles` draws the entire dataset. To draw subsets of bars, set the props `ids` and `keys`.

<Canvas>
    <Story
        name="selected ids"
        args={{
            ids: ['alpha'],
            medianStyle: { strokeWidth: 3, stroke: '#444444' },
            whiskerStyle: { strokeWidth: 2 },
            boxStyle: { strokeWidth: 0.5, stroke: '#444444' },
        }}
        component={Quantiles}
        decorators={[ChartQuantileDecorator]}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="selected keys"
        args={{
            keys: ['x'],
            medianStyle: { strokeWidth: 3, stroke: '#444444' },
            whiskerStyle: { strokeWidth: 2 },
            boxStyle: { strokeWidth: 0.5, stroke: '#444444' },
        }}
        component={Quantiles}
        decorators={[ChartQuantileDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

## Whisker cap width

The size of the whisker 'cap' can be adjusted with prop `whiskerCapWidth`.

<Canvas>
    <Story
        name="whisker cap"
        args={{
            medianStyle: { strokeWidth: 3, stroke: '#444444' },
            whiskerStyle: { strokeWidth: 2 },
            boxStyle: { strokeWidth: 0.5, stroke: '#444444' },
            whiskerCapWidth: 0.5,
        }}
        component={Quantiles}
        decorators={[ChartQuantileDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

## Mouse events

To make the box and whiskers respond to mouse events, set props starting with the prefix `on`, for example `onClick`.

<Canvas>
    <Story
        name="mouse click"
        args={{
            medianStyle: { strokeWidth: 3, stroke: '#222222' },
            whiskerStyle: { strokeWidth: 2 },
            onClick: onQuantilesClick,
        }}
        component={Quantiles}
        decorators={[ChartQuantileDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

(Click on the boxes, then check the browser console with `Ctrl Shift J` for output.)
