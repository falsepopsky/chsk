import { ArgsTable, Canvas, Meta, Source, Story } from '@storybook/addon-docs'
import { Chart, Axis, AxisTicks, GridLines } from '@chask/core'
import { Bar, Bars, BarsLabels } from '../src'

# BarsLabels

<Meta title="Addons/Band/BarsLabels" />
export const Template = args => <BarsLabels {...args} />

`BarsLabels` draws a set of labels on a bar chart.

<ArgsTable of={BarsLabels} />

## Alignment

On horizontal charts, it can be interesting to place the labels inside bars, either near the baseline or at the far edge.
For small bars, the labels can be omitted, or automatically located beside the bars.

export const barsLabelsData = [
    { id: 'alpha', value: 85 },
    { id: 'beta', value: 60 },
    { id: 'gamma', value: 50 },
    { id: 'delta', value: 25 },
    { id: 'epsilon', value: 5 },
]

<Canvas>
    <Story name="near baseline">
        <Chart size={[400, 220]} padding={[30, 40, 30, 60]} style={{ display: 'inline-block' }}>
            <Bar data={barsLabelsData} keys={['value']} horizontal={true}>
                <GridLines variant={'x'} />
                <Axis variant={'left'} ticks={null}>
                    <AxisTicks variant={'left'} size={0} />
                </Axis>
                <Bars />
                <BarsLabels
                    padding={[2, 8, 2, 8]}
                    align={[0, 0.5]}
                    showOuter={true}
                    style={{ fill: '#ffffff', textAnchor: 'start' }}
                    styleOuter={{ fill: '#222222', textAnchor: 'start' }}
                />
            </Bar>
        </Chart>
    </Story>
    <Story name="near edge">
        <Chart size={[400, 220]} padding={[30, 40, 30, 60]} style={{ display: 'inline-block' }}>
            <Bar data={barsLabelsData} keys={['value']} horizontal={true}>
                <GridLines variant={'x'} />
                <Axis variant={'left'} ticks={null}>
                    <AxisTicks variant={'left'} size={0} />
                </Axis>
                <Bars />
                <BarsLabels
                    padding={[2, 8, 2, 8]}
                    align={[1, 0.5]}
                    showOuter={true}
                    style={{ fill: '#ffffff', textAnchor: 'end' }}
                    styleOuter={{ fill: '#222222', textAnchor: 'start' }}
                />
            </Bar>
        </Chart>
    </Story>
</Canvas>

Labels can also be placed outside the bars.

<Canvas>
    <Story name="outside bars">
        <Chart size={[400, 220]} padding={[30, 40, 30, 60]} style={{ display: 'inline-block' }}>
            <Bar data={barsLabelsData} keys={['value']} horizontal={true}>
                <GridLines variant={'x'} />
                <Axis variant={'left'} ticks={null}>
                    <AxisTicks variant={'left'} size={0} />
                </Axis>
                <Bars />
                <BarsLabels
                    padding={[2, 0, 2, 0]}
                    align={[1, 0.5]}
                    minSize={[0, 0]}
                    translate={[8, 0]}
                    style={{ fill: '#222222', textAnchor: 'start' }}
                />
            </Bar>
        </Chart>
    </Story>
</Canvas>

## Subsets

It is possible to draw selected labels, only.

<Canvas>
    <Story name="selected labels">
        <Chart size={[400, 220]} padding={[30, 40, 30, 60]} style={{ display: 'inline-block' }}>
            <Bar data={barsLabelsData} keys={['value']} horizontal={true}>
                <GridLines variant={'x'} />
                <Axis variant={'left'} ticks={null}>
                    <AxisTicks variant={'left'} size={0} />
                </Axis>
                <Bars />
                <BarsLabels
                    ids={["beta", "delta"]}
                    padding={[2, 8, 2, 8]}
                    align={[0, 0.5]}
                    showOuter={true}
                    style={{ fill: '#ffffff', textAnchor: 'start' }}
                    styleOuter={{ fill: '#222222', textAnchor: 'start' }}
                />
            </Bar>
        </Chart>
    </Story>
</Canvas>
