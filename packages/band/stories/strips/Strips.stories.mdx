import { ArgsTable, Canvas, Meta, Source, Story } from '@storybook/addon-docs'
import { Square } from '@chsk/core'
import { Strip, Strips } from '../../src'
import { ChartStripDecorator, onStripsClick } from './decorators'

# Strips

<Meta title="Addons/Band/Strips/Strips" />
export const Template = args => <Strips {...args} />

`Strips` draws data points on a strip chart.

`Strips` is intended to be used within a `Strip` view. Note that while the `Strips` component is the one that draws data points, much of the chart layout is determined by the parent view `Strip`.

<ArgsTable of={Strips} />

## Data subsets

By default, `Strips` draws the entire dataset. To draw subsets, set the props `ids` and `keys`.

<Canvas>
    <Story
        name="selected ids"
        args={{
            ids: ['alpha'],
            symbolStyle: { strokeWidth: 1, stroke: '#222222' },
        }}
        component={Strips}
        decorators={[ChartStripDecorator]}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="selected keys"
        args={{
            keys: ['x'],
            symbolStyle: { strokeWidth: 1, stroke: '#222222' },
        }}
        component={Strips}
        decorators={[ChartStripDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

## Symbols

Prop `component` accepts a function for rendering individual data points. The default function draws circles, but this can be replaced, for example, to create squares or other symbols.

<Canvas>
    <Story
        name="symbols"
        args={{
            component: Square,
            symbolStyle: { strokeWidth: 1, stroke: '#222222' },
        }}
        component={Strips}
        decorators={[ChartStripDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

See documentation in `@chsk/core` for symbols `Circle`, `Diamond`, `Square`, `Triangle`, `InvertedTriangle`.

## Mouse events

To make points respond to mouse events, set prop `handlers`.

<Canvas>
    <Story
        name="mouse click"
        args={{ handlers: { onClick: onStripsClick } }}
        component={Strips}
        decorators={[ChartStripDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

(Click on the data points, then check the browser console with `Ctrl Shift J` for output.)
