import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs'
import { Tooltip, Surface } from '../../src'
import { ChartForDetectorTooltipDecorator, ChartForShapesTooltipDecorator } from './decorators'

# Tooltip

<Meta title="Core/Components/Tooltip" />
export const Template = args => <Tooltip {...args} />

`Tooltip` is a container component for tooltips.

<ArgsTable of={Tooltip} />

`Tooltip` is meant to display information intermittently as the mouse pointer hovers over chart elements.
It determines its location and information content using the `useTooltip` hook.
As such, it should be used as a child element of a component that sets data for the tooltip context.

The examples in this documentation page use custom elements that set tooltip data.

## Size, and anchor

`Tooltip` requires information about its size and how it should be anchored to the target position.
The relevant props are `size` and `anchor`.
Hover on the examples below to display a tooltip anchored at different location relative to the mouse pointer.

<Canvas>
    <Story
        name="anchored middle-left"
        args={{
            size: [80, 40],
            sizeUnits: 'absolute',
            anchor: [0, 0.5],
            children: <Surface style={{ fill: '#aabbee' }} />,
        }}
        component={Tooltip}
        decorators={[ChartForDetectorTooltipDecorator]}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="anchored top-right"
        args={{
            size: [80, 120],
            sizeUnits: 'absolute',
            anchor: [1, 0],
            children: <Surface style={{ fill: '#aabbee' }} />,
        }}
        component={Tooltip}
        decorators={[ChartForDetectorTooltipDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

## Position

The tooltip can be offset from the target position with prop `position`.

<Canvas>
    <Story
        name="custom position"
        args={{
            position: [0, -10],
            size: [80, 40],
            sizeUnits: 'absolute',
            anchor: [0.5, 1],
            children: <Surface style={{ fill: '#aabbee' }} />,
        }}
        component={Tooltip}
        decorators={[ChartForDetectorTooltipDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

## Tooltip content

The content of the tooltip consists of a number of distinct pieces.
These pieces can be tuned with props such as `itemSize` and `itemPadding`.

The examples below display tooltips that are compact, well-padding, and
decorated with a title line.

<Canvas>
    <Story
        name="small item padding"
        args={{
            position: [10, 0],
            size: [100, 20],
            sizeUnits: 'absolute',
            anchor: [0, 0.5],
            itemSize: [100, 20],
            itemPadding: [2, 2, 2, 2],
        }}
        component={Tooltip}
        decorators={[ChartForShapesTooltipDecorator]}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="large item padding"
        args={{
            position: [10, 0],
            size: [100, 20],
            sizeUnits: 'absolute',
            anchor: [0, 0.5],
            itemSize: [100, 20],
            itemPadding: [6, 6, 6, 6],
        }}
        component={Tooltip}
        decorators={[ChartForShapesTooltipDecorator]}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="title"
        args={{
            position: [10, 0],
            size: [100, 20],
            sizeUnits: 'absolute',
            anchor: [0, 0.5],
            itemPadding: [6, 6, 6, 6],
            title: 'Tooltip title',
        }}
        component={Tooltip}
        decorators={[ChartForShapesTooltipDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

## Custom style

The tooltip can be styled using css.

<Canvas>
    <Story
        name="custom style"
        args={{
            position: [10, 0],
            size: [100, 20],
            sizeUnits: 'absolute',
            anchor: [0, 0.5],
            itemSize: [100, 20],
            itemPadding: [6, 6, 6, 6],
            style: { fill: '#ddaaaa', strokeWidth: 1, stroke: '#000000' },
        }}
        component={Tooltip}
        decorators={[ChartForShapesTooltipDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>
