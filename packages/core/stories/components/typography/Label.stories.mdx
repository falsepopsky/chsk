import { ReactNode } from 'react'
import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs'
import { Chart, Surface, Circle, Rectangle, Label } from '../../../src'
import { DivDecorator, ChartDecorator } from '../decorators'
import { ChartForLabelDecorator } from './decorators'

# Label

<Meta title="Core/Components/Text/Label" />
export const Template = args => <Label {...args} />

`Label`, similarly to `Typography`, places a text element on a chart.
It differs from `Typography` in how the props determine the localisation of the text element.

<ArgsTable of={Label} />

## Base position

Prop `position` determines the location of the label anchor point.
By default, `Label` creates that is centered around the anchor point.
Thus, the behavior of `Label` is in such cases very similar to `Typography`.

<Canvas>
    <Story
        name="default"
        args={{
            position: [0, 0],
            children: 'label text',
        }}
        component={Label}
        decorators={[ChartDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

## Rectangle-based position

`Label` provides a number of other props that tune the final position of the text.
To understand how the placement is computed, imagine a rectangle centered around `position`.
The size of the rectangle is determined by prop `size`. The internal padding is set
with prop `padding`. The text label is then placed within the accessible rectangle,
and aligned according to prop `align`.

In each of examples below, `position` is marked with a small circle.
Two concentric rectangles enclose the circle.
The dimensions of the outer rectangle correspond to prop `size`.
The inner rectangle is offset from the outer rectangle according to `padding`.
Finally, the text element is aligned at a location within the inner rectangle.ChartForLabelDecorator

In the first example below, the text is aligned `[0, 0.5]`, i.e. to left side in the middle of the inner rectangle.
The style of the text element uses `textAnchor: 'start'`.
In the second example, prop `align=[1, 0.5]` to align the text on the right side of the inner rectangle.
The style of that text element uses `textAnchor: 'end'`.

<Canvas>
    <Story
        name="aligned middle-left"
        args={{
            position: [160, 110],
            size: [160, 50],
            padding: [5, 5, 5, 15],
            align: [0, 0.5],
            style: { textAnchor: 'start' },
            children: 'label text',
        }}
        component={Label}
        decorators={[ChartForLabelDecorator]}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="aligned middle-right"
        args={{
            position: [160, 110],
            size: [160, 50],
            padding: [5, 5, 5, 15],
            align: [1, 0.5],
            style: { textAnchor: 'end' },
            children: 'label text',
        }}
        component={Label}
        decorators={[ChartForLabelDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>
