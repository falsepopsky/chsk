import { ArgsTable, Canvas, Meta, Source, Story } from '@storybook/addon-docs'
import { Chart, Axis, Square } from '@chsk/core'
import { UpSet, UpSetGrid, UpSetMemberships, HeatMapSurface } from '../../src'
import { ChartUpSetDecorator, ChartUpSetGridDecorator } from '../decorators'

# UpSetMemberships

<Meta title="Addons/Matrix/UpSets/UpSetMemberships" />

export const Template = args => <UpSetMemberships {...args} />

`UpSetMemberships` summarizes set intersections through a graphical system of symbols and connecting lines. The graphical scheme is motivated and explained by the creators of UpSet charts [here](https://upset.app/).

<ArgsTable of={UpSetMemberships} />

## Set memberships

`UpSetMemberships` displays symbols and lines to mark set intersections. In the examples below, the dataset consists of four sets labeled 'alpha', 'beta', 'gamma', and 'delta'.

<Canvas>
    <Story name="default" args={{}} component={UpSetMemberships} decorators={[ChartUpSetDecorator]}>
        {Template.bind({})}
    </Story>
</Canvas>

The interpretation of these visual elements follows the conventions of [upset charts](https://upset.app/). Isolated symbols convey that a set contains elements that are not shared with any other set. When two or more symbols are connected with a line, the line indicates that some elements are present in all the marked sets, but not in any of the unmarked sets.

Note that `UpSetMemberships` does not draw a background grid. A grid can be added separately using `UpSetGrid`.

<Canvas>
    <Story
        name="with grid"
        args={{}}
        component={UpSetMemberships}
        decorators={[ChartUpSetGridDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

## Custom symbols

The default set markers is a circle. That can be replaced by a custom symbol using prop `symbol`.

<Canvas>
    <Story
        name="custom symbol"
        args={{
            symbol: Square,
            symbolStyle: { strokeWidth: 5 },
        }}
        component={UpSetMemberships}
        decorators={[ChartUpSetGridDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

## Styling

Symbols and lines can be styled using props `symbolStyle` and `lineStyle`, respectively.

<Canvas>
    <Story
        name="custom styles"
        args={{
            lineStyle: { stroke: '#b33', strokeWidth: 5 },
            symbolStyle: { fill: '#b33' },
        }}
        component={UpSetMemberships}
        decorators={[ChartUpSetGridDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>
