import { ArgsTable, Canvas, Meta, Source, Story } from '@storybook/addon-docs'
import { Chart, Axis, Square } from '@chsk/core'
import { UpSet, UpSetGrid, UpSetMembership } from '../src'
import { ChartUpSetDecorator } from './decorators'

# UpSetMembership

<Meta title="Addons/Matrix/UpSetMembership" />

export const Template = args => <UpSetMembership {...args} />

`UpSetMembership` draws a combination of symbols and a line in order to convey a pattern of set intersections in an upset chart.

`UpSetMembership` is a low-level component that is typically not invoked manually. Rather, the component is used internally by `UpSetMemberships` to draw all nontrivial set intersections in a dataset.

<ArgsTable of={UpSetMembership} />

## Positions

`UpSetMembership` displays either a single symbol, or a set of symbols connected by a line. The positions of the symbols are set with prop `positions`, and the symbol size is determined by prop `r`. Whenever there are more than two positions, the component automatically draws a line to connect the most extreme points.

<Canvas>
    <Story
        name="one position"
        args={{
            positions: [[60, 60]],
            r: 20,
            lineStyle: { strokeWidth: 4 },
        }}
        component={UpSetMembership}
        decorators={[ChartUpSetDecorator]}
    >
        {Template.bind({})}
    </Story>
    <Story
        name="multiple positions"
        args={{
            positions: [
                [50, 50],
                [100, 100],
                [150, 150],
            ],
            r: 10,
            lineStyle: { strokeWidth: 4 },
        }}
        component={UpSetMembership}
        decorators={[ChartUpSetDecorator]}
    >
        {Template.bind({})}
    </Story>
</Canvas>

Note that `UpSetMembership` draws symbols at the specified coordinates; it does not check or enforce that the output is interpretable in the context of an upset chart.
