import { ArgsTable, Canvas, Meta, Source, Story } from '@storybook/addon-docs'
import { Chart, Axis, GridLines } from '@chask/core'
import { Scatter, ScatterInterval, ScatterPoints, ScatterCurve } from '../src'
import { ChartScatterDecorator } from './decorators'
import { generateScatterSeriesWithInterval } from './generators'

# ScatterInterval

<Meta title="Addons/Scatter/ScatterInterval" />
export const Template = args => <ScatterInterval {...args} />

`ScatterInterval` draws a polygon intended as an interval around a curve

<ArgsTable of={ScatterInterval} />

export const dataWithInterval = [
    generateScatterSeriesWithInterval(
        'A',
        Array(16)
            .fill(0)
            .map((v, i) => i),
        x => 1 + 0.5 * x + Math.random() * 1.5,
        [-0.8, 1.0]
    ),
]

## Layering with curves and points

The `ScatterInterval` component is often used as a background for points or curves.

<Canvas>
    <Story name="interval">
        <Chart size={[500, 300]} padding={[40, 40, 60, 60]} style={{ display: 'inline-block' }}>
            <Scatter
                data={dataWithInterval}
                x={'x'}
                y={'y'}
                r={6}
                scaleX={{
                    variant: 'linear',
                    min: 0,
                    max: 15,
                }}
                scaleY={{
                    variant: 'linear',
                    min: 0,
                    max: 12,
                }}
            >
                <Axis variant={'bottom'} label={'x (a. u.)'} />
                <Axis variant={'left'} label={'y (a. u.)'} ticks={5} />
                <GridLines variant={'y'} ticks={5} />
                <ScatterInterval
                    series={'A'}
                    curve="Natural"
                    lower={'lo'}
                    upper={'hi'}
                    style={{ fill: '#dd4444', opacity: 0.1, strokeWidth: 0 }}
                />
                <ScatterCurve
                    series={'A'}
                    curve="Natural"
                    style={{ stroke: '#dd4444', strokeWidth: 3 }}
                />
                <ScatterPoints
                    series={'A'}
                    symbolStyle={{ stroke: '#dd4444', strokeWidth: 2, fill: '#ffffff' }}
                />
            </Scatter>
        </Chart>
    </Story>
</Canvas>
